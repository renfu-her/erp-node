<!-- views/dashboard.ejs -->
<% layout('layouts/layout') %>

<div class="row">
  <!-- 主要內容區域 -->
  <main class="col-md-12 ms-sm-auto col-lg-12 px-md-4">
    <div
      class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
    >
      <h1 class="h2">儀表板</h1>
    </div>

    <!-- 統計卡片 -->
    <div class="row">
      <div class="col-md-3">
        <div class="card bg-primary text-white mb-4">
          <div class="card-body">26K 使用者</div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card bg-info text-white mb-4">
          <div class="card-body">$6,200 收入</div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card bg-warning text-white mb-4">
          <div class="card-body">2.49% 轉換率</div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card bg-danger text-white mb-4">
          <div class="card-body">44K 會話</div>
        </div>
      </div>
    </div>

    <!-- 流量圖表 -->
    <div class="card mb-4">
      <div class="card-header">流量統計</div>
      <div class="card-body">
        <canvas id="trafficChart"></canvas>
      </div>
    </div>
  </main>
</div>

<!-- 使用 Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ctx = document.getElementById("trafficChart").getContext("2d");
  const trafficChart = new Chart(ctx, {
    type: "line",
    data: {
      labels: ["一月", "二月", "三月", "四月", "五月", "六月", "七月"],
      datasets: [
        {
          label: "流量",
          data: [100, 200, 150, 250, 300, 200, 350],
          borderColor: "rgba(75, 192, 192, 1)",
          fill: false,
          tension: 0.1,
        },
      ],
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: "top",
        },
        title: {
          display: true,
          text: "月度流量趨勢",
        },
      },
    },
  });
</script>
